#:kivy 1.2.0

<Button>:
    background_normal: ''
    background_down: ''
    font_size: 40
    color: 1, 1, 0, 1
    background_color: 0, 0, 0, 0
    canvas.before:
        Color:
            rgba: (0, 0, 1, 1) if self.state == 'down' else (0, 0, 0, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [15]

<NumberButton@Button>:
    on_press: app.root.process_input(self.text)

<OperatorButton@Button>:
    on_press: app.root.process_operator(self.text)

<ClearButton@Button>:
    on_press: app.root.clear_display()

<EqualButton@Button>:
    on_press: app.root.calculate()

<PercentButton@Button>:
    on_press: app.root.process_percent()

CalculatorLayout:
    orientation: 'vertical'
    calc_display: calc_display
    padding: 15
    canvas.before:
        Color:
            rgba: 1, 0, 0, 1
        Rectangle:
            size: self.size
            pos: self.pos
    TextInput:
        id: calc_display
        size_hint_y: .3
        text: '0'
        halign: 'right'
        multiline: False
        readonly: True
        font_size: 60
        padding: [dp(12), self.height - self.line_height - dp(12), dp(12), dp(12)]
    
    GridLayout:
        id: calc_buttons
        rows: 5
        cols: 4
        spacing: 10
        padding: 0, 10, 0, 0
        Button:
            id: btn_open_parenthesis
            text: '('
        Button:
            id: btn_close_parenthesis
            text: ')'
        PercentButton:
            id: btn_percentage
            text: '%'
        ClearButton:
            id: btn_clear
            text: 'C'
            
        NumberButton:
            id: btn_7
            text: '7'    
        NumberButton:
            id: btn_8
            text: '8'
        NumberButton:
            id: btn_9
            text: '9'
        OperatorButton:
            id: btn_divide
            text: '/'

        NumberButton:
            id: btn_4
            text: '4'
        NumberButton:
            id: btn_5
            text: '5'
        NumberButton:
            id: btn_6
            text: '6'
        OperatorButton:
            id: btn_multiply
            text: '*'
            
        NumberButton:
            id: btn_1
            text: '1'
        NumberButton:
            id: btn_2
            text: '2'
        NumberButton:
            id: btn_3
            text: '3'
        OperatorButton:
            id: btn_minus
            text: '-'

        NumberButton:
            id: btn_0
            text: '0'
        Button:
            id: btn_dot
            text: '.'
        EqualButton:
            id: btn_equal
            text: '='
        OperatorButton:
            id: btn_add
            text: '+'

